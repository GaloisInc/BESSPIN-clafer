/*
All clafers: 9 | Abstract: 2 | Concrete: 5 | References: 2
Constraints: 3
Goals: 0
Global scope: 1..*
All names unique: False
*/
open util/integer
pred show {}
run  show for 1

abstract sig c1_Course
{ r_c2_assistants : set c2_assistants }

sig c2_assistants in c3_TA
{}
{ one @r_c2_assistants.this }

abstract sig c3_TA
{ r_c4_first : lone c4_first }

sig c4_first in c1_Course
{}
{ one @r_c4_first.this }

one sig c5_A extends c3_TA
{}
one sig c6_B extends c3_TA
{}
one sig c7_ECE155 extends c1_Course
{}
one sig c8_ECE351 extends c1_Course
{}

fact { (c5_A.@r_c4_first) = c7_ECE155 }
fact { (c6_B.@r_c4_first) = c8_ECE351 }
one sig c19_tas_with_first_choice
{ ref : one Int }

fact { (#(c1_Course.@r_c2_assistants)) > 1 }

/*  Hand written modification to do an inner join between assistants and inverse of first. */
fact {  c19_tas_with_first_choice.ref =  # r_c2_assistants & ~r_c4_first }

