// Adapated from Scalable Prediction of Non-functional Properties in Software Product Lines.
// Scaled down by dividing numbers by 1200 and rounding.
//To execute in alloy: run  show for ...


abstract IMeasurable
	footprint : integer

abstract SQLite
	OperatingSystemCharacteristics : IMeasurable 
		[ this.footprint = 1480]
		SQLITE_4_BYTE_ALIGNED_MALLOC : IMeasurable 
			[ this.footprint = 0]
		SQLITE_CASE_SENSITIVE_LIKE : IMeasurable  ?
			[ this.footprint = 0]
		SQLITE_HAVE_ISNAN : IMeasurable  ?
			[ this.footprint = 0]
		SQLITE_SECURE_DELETE : IMeasurable  ?
			[ this.footprint = 0]
		xor ChooseSQLITE_TEMP_STORE : IMeasurable  ?
			[ this.footprint = 0]
			SQLITE_TEMP_STORE_EQ_0 : IMeasurable 
				[ this.footprint = 0]
			SQLITE_TEMP_STORE_EQ_1 : IMeasurable 
				[ this.footprint = 0]
			SQLITE_TEMP_STORE_EQ_2 : IMeasurable 
				[ this.footprint = 0]
			SQLITE_TEMP_STORE_EQ_3 : IMeasurable 
				[ this.footprint = 0]
	EnableFeatures : IMeasurable 
		[ this.footprint = 0]
		SQLITE_ENABLE_ATOMIC_WRITE : IMeasurable  ?
			[ this.footprint = 5]
		SQLITE_ENABLE_COLUMN_METADATA : IMeasurable  ?
			[ !SQLITE_OMIT_DECLTYPE ]
			[ this.footprint = 4]
		SQLITE_ENABLE_FTS3 : IMeasurable  ?
			[ this.footprint = 167]
		SQLITE_ENABLE_FTS3_PARENTHESIS : IMeasurable  ?
			[ this.footprint = 0]
		SQLITE_ENABLE_MEMORY_MANAGEMENT : IMeasurable  ?
			[ this.footprint = 1]
		xor ChooseMemSys : IMeasurable  ?
			[ this.footprint = 6]
			SQLITE_ENABLE_MEMSYS3 : IMeasurable 
				[ this.footprint = 3]
			SQLITE_ENABLE_MEMSYS5 : IMeasurable 
				[ this.footprint = 0]
		SQLITE_ENABLE_RTREE : IMeasurable  ?
			[ this.footprint = 55]
		SQLITE_ENABLE_STAT2 : IMeasurable  ?
			[ this.footprint = 7]
		SQLITE_ENABLE_UPDATE_DELETE_LIMIT : IMeasurable  ?
			[ this.footprint = 1]
	OmitFeatures : IMeasurable
		[ this.footprint = 0]	
		SQLITE_OMIT_DECLTYPE : IMeasurable  ?
			[ !SQLITE_ENABLE_COLUMN_METADATA ]
			[ this.footprint = -1]			
	SQLITE_DEBUG : IMeasurable  ?
		[ this.footprint = 14]
	SQLITE_MEMDEBUG : IMeasurable  ?
		[ this.footprint = 3]
	total_footprint : integer
	[ total_footprint = OperatingSystemCharacteristics.footprint + OperatingSystemCharacteristics.SQLITE_4_BYTE_ALIGNED_MALLOC.footprint + OperatingSystemCharacteristics.SQLITE_CASE_SENSITIVE_LIKE.footprint + OperatingSystemCharacteristics.SQLITE_HAVE_ISNAN.footprint + OperatingSystemCharacteristics.SQLITE_SECURE_DELETE.footprint + OperatingSystemCharacteristics.ChooseSQLITE_TEMP_STORE.footprint + OperatingSystemCharacteristics.ChooseSQLITE_TEMP_STORE.SQLITE_TEMP_STORE_EQ_0.footprint + OperatingSystemCharacteristics.ChooseSQLITE_TEMP_STORE.SQLITE_TEMP_STORE_EQ_1.footprint + OperatingSystemCharacteristics.ChooseSQLITE_TEMP_STORE.SQLITE_TEMP_STORE_EQ_2.footprint + OperatingSystemCharacteristics.ChooseSQLITE_TEMP_STORE.SQLITE_TEMP_STORE_EQ_3.footprint + EnableFeatures.footprint + EnableFeatures.SQLITE_ENABLE_ATOMIC_WRITE.footprint + EnableFeatures.SQLITE_ENABLE_COLUMN_METADATA.footprint + EnableFeatures.SQLITE_ENABLE_FTS3.footprint + EnableFeatures.SQLITE_ENABLE_FTS3_PARENTHESIS.footprint + EnableFeatures.SQLITE_ENABLE_MEMORY_MANAGEMENT.footprint + EnableFeatures.ChooseMemSys.footprint + EnableFeatures.ChooseMemSys.SQLITE_ENABLE_MEMSYS3.footprint + EnableFeatures.ChooseMemSys.SQLITE_ENABLE_MEMSYS5.footprint + EnableFeatures.SQLITE_ENABLE_RTREE.footprint + EnableFeatures.SQLITE_ENABLE_STAT2.footprint + EnableFeatures.SQLITE_ENABLE_UPDATE_DELETE_LIMIT.footprint + OmitFeatures.footprint + OmitFeatures.SQLITE_OMIT_DECLTYPE.footprint + SQLITE_DEBUG.footprint + SQLITE_MEMDEBUG.footprint ]

simpleConfig : SQLite 


//Mandatory Features all configurations will have: OperatingSystemCharacteristics SQLITE_4_BYTE_ALIGNED_MALLOC EnableFeatures DisableFeatures OmitFeatures 
